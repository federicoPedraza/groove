# Groove `0.1.4` — Changelog Request (To-Do Scope)

This document defines the **requested work** for `0.1.4`.
It is a planning/change request, not a completed release note.

## Goal
Raise Groove’s robustness and professional readiness by adding quality gates, reducing regressions, and tightening build/release safety.

---

## Requested items

### 1) Fix lint reliability and scope
- [ ] Ensure `npm run lint` passes in a clean clone.
- [ ] Exclude generated/secondary trees from linting noise (especially `.worktrees/**`, plus any build artifacts not already excluded).
- [ ] Keep only actionable warnings/errors for the main app source.

**Acceptance criteria**
- `npm run lint` exits with code 0 on CI and locally.

---

### 2) Introduce automated tests (minimum baseline)
- [ ] Add a test framework for frontend logic (recommended: Vitest + Testing Library).
- [ ] Add initial unit tests for critical utility logic (worktree status parsing, command/output summarizers, path/state helpers).
- [ ] Add at least one integration-style test for key dashboard state behavior.

**Acceptance criteria**
- `npm test` (or documented equivalent) runs in CI.
- At least one failing test demonstrates regression protection when behavior breaks.

---

### 3) CI quality gates (not only build)
- [ ] Update GitHub Actions workflow to include:
  - lint
  - frontend typecheck (`tsc --noEmit`)
  - test job
  - rust check (`cargo check` via `npm run check:rust`)
- [ ] Keep artifact build jobs, but enforce checks before release artifacts.

**Acceptance criteria**
- PRs cannot be merged with failing lint/type/test/check jobs.

---

### 4) Dependency/security maintenance
- [ ] Resolve current `npm audit` advisories in dependency tree (notably `rollup` and `minimatch` in dev chain), either by upgrades or documented temporary risk acceptance.
- [ ] Add a periodic dependency update routine (manual cadence or bot).

**Acceptance criteria**
- `npm audit` results are clean for production deps, and dev advisories are either fixed or explicitly documented with rationale.

---

### 5) Backend maintainability hardening (Rust)
- [ ] Start splitting `src-tauri/src/lib.rs` into focused modules (workspace, diagnostics, terminal, git/gh, testing environment).
- [ ] Keep behavior unchanged while reducing single-file blast radius.
- [ ] Add module-level tests where practical.

**Acceptance criteria**
- `lib.rs` mainly wires modules and handlers.
- No functional regressions in core flows.

---

### 6) Performance polish for frontend bundle
- [ ] Reduce large bundle warning by introducing code-splitting for heavy routes/components.
- [ ] Consider lazy-loading Diagnostics/Settings routes.

**Acceptance criteria**
- Main bundle size reduced versus `0.1.3` baseline.
- Build warning about oversized chunks is eliminated or intentionally documented.

---

### 7) Release readiness/doc updates
- [ ] Add a short “Quality Gates” section in README (lint/type/test/build/check commands).
- [ ] Add a contributor checklist for local validation before PR.
- [ ] Document known limitations for `0.1.4` if any items are intentionally deferred.

**Acceptance criteria**
- New contributors can run one clear pre-PR checklist.

---

## Proposed release policy for `0.1.4`
`0.1.4` should ship only when:
1. Lint + typecheck + tests + rust check pass in CI.
2. No unreviewed high-severity dependency risks remain.
3. Core worktree flows (list/restore/play/stop/remove) are smoke-verified.

---

## Non-goals for this request
- Large feature expansion unrelated to reliability/professional hardening.
- Full architecture rewrite in a single release.
- Platform packaging redesign beyond stability fixes.
